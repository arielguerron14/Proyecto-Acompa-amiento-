version: '3.8'

services:
  micro-auth:
    image: "${DOCKERHUB_ACCOUNT}/${REPO_PREFIX}-micro-auth:${TAG:-latest}"
    restart: unless-stopped

  api-gateway:
    image: "${DOCKERHUB_ACCOUNT}/${REPO_PREFIX}-api-gateway:${TAG:-latest}"
    restart: unless-stopped

  frontend-web:
    image: "${DOCKERHUB_ACCOUNT}/${REPO_PREFIX}-frontend-web:${TAG:-latest}"
    restart: unless-stopped

  micro-maestros:
    image: "${DOCKERHUB_ACCOUNT}/${REPO_PREFIX}-micro-maestros:${TAG:-latest}"
    restart: unless-stopped

  micro-estudiantes:
    image: "${DOCKERHUB_ACCOUNT}/${REPO_PREFIX}-micro-estudiantes:${TAG:-latest}"
    restart: unless-stopped

  micro-reportes-estudiantes:
    image: "${DOCKERHUB_ACCOUNT}/${REPO_PREFIX}-micro-reportes-estudiantes:${TAG:-latest}"
    restart: unless-stopped

  micro-reportes-maestros:
    image: "${DOCKERHUB_ACCOUNT}/${REPO_PREFIX}-micro-reportes-maestros:${TAG:-latest}"
    restart: unless-stopped

  micro-notificaciones:
    image: "${DOCKERHUB_ACCOUNT}/${REPO_PREFIX}-micro-notificaciones:${TAG:-latest}"
    restart: unless-stopped

  micro-analytics:
    image: "${DOCKERHUB_ACCOUNT}/${REPO_PREFIX}-micro-analytics:${TAG:-latest}"
    restart: unless-stopped

  micro-soap-bridge:
    image: "${DOCKERHUB_ACCOUNT}/${REPO_PREFIX}-micro-soap-bridge:${TAG:-latest}"
    restart: unless-stopped

  # Optional infrastructure services for production (managed services are recommended)
  mongo:
    image: mongo:6.0
    restart: unless-stopped

  postgres:
    image: postgres:15
    restart: unless-stopped

  redis:
    image: redis:7
    restart: unless-stopped
