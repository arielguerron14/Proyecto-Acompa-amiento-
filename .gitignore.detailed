# .gitignore - Explicaci√≥n Detallada

Este archivo especifica qu√© archivos NO se deben versionar en Git. Aqu√≠ est√° la l√≥gica detr√°s de cada secci√≥n.

---

## üî¥ NUNCA en Git

### Dependencies (Node.js)
```gitignore
node_modules/          # Gigantesco (~300-500 MB), se regenera con npm install
package-lock.json      # Generado autom√°ticamente
yarn.lock              # Generado autom√°ticamente
```
**Raz√≥n:** `package.json` + npm install es suficiente. El lock se regenera autom√°ticamente.

### Logs
```gitignore
*.log                  # Cualquier archivo .log
*.log.*                # Rotaci√≥n de logs
logs/                  # Directorio de logs
lerna-debug.log*       # Logs espec√≠ficos de Lerna/Turborepo
```
**Raz√≥n:** Los logs son datos en tiempo de ejecuci√≥n, no c√≥digo.

### Environment Variables
```gitignore
.env                   # Variables locales (secretos, IPs)
.env.local             # Overrides locales
.env.*.local           # Ambientes espec√≠ficos
.env.generated         # Auto-generado desde Terraform
.env.aws.local         # Configuraci√≥n local de AWS
```
**Raz√≥n:** Nunca versionar secretos, credenciales o configuraci√≥n local.

### Build Outputs
```gitignore
dist/                  # C√≥digo compilado/transpilado
build/                 # Artefactos de build
coverage/              # Reportes de coverage de tests
```
**Raz√≥n:** Son salidas de herramientas, no c√≥digo fuente.

### Terraform
```gitignore
.terraform/            # Cache de Terraform (gigantesco)
*.tfstate              # Estado de Terraform (CR√çTICO: contiene secretos)
*.tfstate.*            # Backups de estado
terraform.tfvars       # Variables de Terraform (puede contener secretos)
.terraformrc           # Configuraci√≥n local de Terraform
terraform_plan.tfplan  # Plan generado
.terraform.lock.hcl    # Lock de versiones (se regenera)
```
**Raz√≥n:** `.tfstate` contiene el estado actual incluyendo secretos. Debe estar en remote backend (S3, Terraform Cloud).

### Python
```gitignore
.venv/                 # Virtual environment (grande, local)
__pycache__/           # Cache de Python compilado
*.py[cod]              # Archivos compilados (.pyc, .pyo, .pyd)
*$py.class             # Archivos de clase compilados
*.so                   # Extensiones compiladas
venv/                  # Alternativa a .venv/
ENV/                   # Otra alternativa
```
**Raz√≥n:** Se regenera con `python -m venv` y `pip install`.

### AWS
```gitignore
.aws/                  # Directorio de config AWS local
.aws_credentials       # Credenciales AWS (CR√çTICO)
aws_credentials        # M√°s credenciales
```
**Raz√≥n:** Credenciales nunca en git. Usar AWS SSO o IAM roles.

### IDE & Editores
```gitignore
.vscode/               # Settings espec√≠ficos de VS Code
.idea/                 # Settings espec√≠ficos de JetBrains
*.swp                  # Archivos swap de Vim
*.swo                  # M√°s swap de Vim
*.swn                  # M√°s swap de Vim
*~                     # Backup de Emacs
.DS_Store              # Metadatos de macOS
```
**Raz√≥n:** Configuraci√≥n personal del editor, no proyecto.

### Operating System
```gitignore
Thumbs.db              # Thumbnails de Windows
.DS_Store              # Metadatos de macOS
```
**Raz√≥n:** Metadatos del SO, no c√≥digo.

### Temporary Files
```gitignore
tmp/                   # Directorio temporal
```
**Raz√≥n:** Archivos temporales de desarrollo.

---

## üü° CONDICIONALMENTE en Git

### Local Artifacts (Auto-generated)
```gitignore
artifacts/             # Cache local de AWS (IPs, instancias)
*.bak.json             # Backups de configuraci√≥n
```
**Raz√≥n:** Se regeneran con scripts de sync autom√°tico.

**Cu√°ndo incluir en git:** Nunca (son auto-generados)
**Cu√°ndo regenerar:** `npm run sync-ips-to-config`

---

## üü¢ EN Git (C√≥digo Fuente)

Estos archivos/carpetas S√ç deben estar en git:

```
‚úÖ .ssh/config         # Configuraci√≥n SSH
‚úÖ config/             # Configuraci√≥n centralizada
‚úÖ scripts/            # Scripts de automatizaci√≥n
‚úÖ test/               # Tests
‚úÖ apps/               # C√≥digo fuente
‚úÖ packages/           # Librer√≠as compartidas
‚úÖ .github/workflows/  # CI/CD workflows
‚úÖ package.json        # Definici√≥n de paquetes
‚úÖ turbo.json          # Configuraci√≥n Turborepo
‚úÖ docker-compose.yml  # Orquestaci√≥n de servicios
‚úÖ README.md           # Documentaci√≥n
```

---

## üìã Checklist de Seguridad

Antes de hacer commit, verificar:

```bash
# ‚ùå NO comitear
git grep -l "AWS_SECRET"      # Secretos AWS
git grep -l "PASSWORD"         # Contrase√±as
git grep -l "PRIVATE KEY"      # Claves privadas
find . -name "*.pem"          # Archivos de claves

# ‚úÖ S√ç comitear
git grep -l "config"           # Configuraci√≥n
git grep -l "package.json"     # Dependencias
git grep -l "script"           # Scripts
```

---

## üîß Mantener .gitignore Actualizado

1. **Cuando agregues una herramienta nueva:**
   - Agregar carpeta de output a .gitignore
   - Ejemplo: Agregaste Webpack ‚Üí agregar `dist/`

2. **Cuando cambies IDE:**
   - Agregar configuraci√≥n del nuevo IDE
   - Ejemplo: Cambio de VS Code a JetBrains ‚Üí agregar `.idea/`

3. **Cuando agregues ambiente local:**
   - Agregar variables/archivos espec√≠ficos
   - Ejemplo: Agregaste env local ‚Üí agregar `.env.local`

---

## üìñ Referencia R√°pida

| Categor√≠a | Ejemplo | Versionado |
|-----------|---------|-----------|
| C√≥digo fuente | `apps/`, `src/` | ‚úÖ S√≠ |
| Dependencias | `node_modules/` | ‚ùå No |
| Build output | `dist/`, `build/` | ‚ùå No |
| Configuraci√≥n local | `.env`, `.vscode/` | ‚ùå No |
| Configuraci√≥n proyecto | `config/`, `package.json` | ‚úÖ S√≠ |
| Credenciales | `.aws/`, `*.pem` | ‚ùå No |
| Tests | `test/` | ‚úÖ S√≠ |
| Logs | `*.log`, `logs/` | ‚ùå No |
| Terraform state | `.tfstate` | ‚ùå No |

---

**√öltima actualizaci√≥n:** 20 Enero 2026
